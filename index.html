<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Audio guida turistica di Regalbuto: un viaggio sonoro alla scoperta della storia, arte e tradizioni della città siciliana">
    <title>Audio guida di Regalbuto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- AmplitudeJS CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/amplitudejs@5.3.2/dist/amplitude.min.css"/>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components/audio-amplitude.css">
    <link rel="stylesheet" href="assets/css/components/transcription.css">
    <!-- Nuovo CSS per il player dell'hero -->
    <link rel="stylesheet" href="assets/css/components/hero-player.css">
</head>
<body>
    <!-- Skip link per accessibilità da tastiera -->
    <a href="#main-content" class="skip-to-content">Salta al contenuto principale</a>
    
    <!-- Header espanso con introduzione integrata -->
    <header class="site-header expanded-header" role="banner" aria-labelledby="site-title">
        <div class="container mx-auto px-4 relative">
            <div class="hero-content">
                <!-- Icona e titolo principale -->
                <div class="hero-header text-center mb-6">
                    <div class="podcast-icon-large" aria-hidden="true">
                        <i class="fas fa-compass" aria-hidden="true"></i>
                    </div>
                    <div class="hero-text">
                        <h1 id="site-title" class="text-4xl md:text-5xl font-bold">Audio guida di Regalbuto</h1>
                        <div class="hero-tagline">Scopri la storia, l'arte e le tradizioni</div>
                    </div>
                </div>
                
                <!-- Contenuto introduttivo -->
                <div class="intro-section">
                    <!-- Descrizione spostata prima del player -->
                    <div class="intro-content order-1">
                        <p class="intro-description">
                            Esplora la storia, l'arte e le tradizioni di Regalbuto attraverso questo percorso audio guidato. 
                            Scopri dieci luoghi emblematici raccontati con passione e ricchezza di dettagli.
                        </p>
                        
                        <div class="intro-features-container">
                            <div class="intro-features">
                                <div class="intro-feature">
                                    <i class="fas fa-clock" aria-hidden="true"></i>
                                    <span>Durata: 5 minuti</span>
                                </div>
                                <div class="intro-feature">
                                    <i class="fas fa-map-signs" aria-hidden="true"></i>
                                    <span>10 tappe da esplorare</span>
                                </div>
                                <div class="intro-feature">
                                    <i class="fas fa-headphones-alt" aria-hidden="true"></i>
                                    <span>Audio di qualità</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Player dopo la descrizione - design modernizzato -->
                    <div class="intro-player-container order-2">
                        <div class="intro-player hero-audio-player">
                            <!-- Player AmplitudeJS per l'introduzione - semplificato -->
                            <div class="amplitude-player intro-amplitude" id="intro-player">
                                <div class="amplitude-visualization-container">
                                    <div class="amplitude-visualization" id="intro-visualization"></div>
                                    <button class="amplitude-play-pause" data-amplitude-main-play-pause="true" aria-label="Riproduci o metti in pausa l'introduzione">
                                        <i class="fa fa-play amplitude-play" aria-hidden="true"></i>
                                        <i class="fa fa-pause amplitude-pause" aria-hidden="true"></i>
                                    </button>
                                    <div class="amplitude-track-title" data-amplitude-song-info="name" data-amplitude-main-song-info="true">
                                        Introduzione a Regalbuto
                                    </div>
                                </div>
                                <!-- Rimossi i controlli di durata -->
                            </div>
                        </div>
                        
                        <!-- Tab espandibile per la trascrizione - ridotta importanza -->
                        <div class="intro-transcript-container">
                            <button class="toggle-transcript intro-transcript-button compact" data-target="transcript-0" aria-expanded="false" aria-controls="transcript-0">
                                <span class="mr-2">Trascrizione</span>
                                <i class="fas fa-chevron-down toggle-icon" aria-hidden="true"></i>
                            </button>
                            
                            <div id="transcript-0" class="transcript-container rounded-lg" aria-hidden="true" role="region" aria-label="Trascrizione dell'introduzione">
                                <div class="space-y-4 text-left">
                                    <!-- Il contenuto verrà caricato dinamicamente dal file JSON -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Freccia indicativa per scorrere verso il tour -->
        <div class="hero-arrow-container">
            <a href="#tour-timeline" class="hero-arrow" aria-label="Scorri verso le tappe del tour">
                <i class="fas fa-arrow-down" aria-hidden="true"></i>
            </a>
        </div>
    </header>
    
    <div id="main-content" class="container mx-auto px-4 py-4 max-w-5xl">
        <!-- Sezione tappe del tour completamente riprogettata -->
        <section class="tour-timeline-section mb-12" id="tour-timeline" aria-labelledby="tour-timeline-title">
            <div class="timeline-container">
                <div class="timeline-track-wrapper" tabindex="0" aria-label="Timeline orizzontale scorrevole, usa frecce sinistra e destra per navigare">
                    <div class="timeline-track">
                        <div class="timeline-line"></div>
                        <div class="timeline-stops">
                            <button class="timeline-stop" aria-label="Vai alla tappa: Monumento R. Lombardi">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-monument" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Monumento R. Lombardi</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Monumento G. Campione">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-monument" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Monumento G. Campione</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Corso G.F. Ingrassia">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-road" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Corso G.F. Ingrassia</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Chiesa S.M. La Croce">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-place-of-worship" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Chiesa S.M. La Croce</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Piazza Vittorio Veneto">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-square" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Piazza Vittorio Veneto</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Villa Comunale">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-tree" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Villa Comunale</span>
                            </button>
                            
                            <button class="timeline-stop" aria-label="Vai alla tappa: Lago Pozzillo">
                                <div class="timeline-stop-icon" aria-hidden="true">
                                    <i class="fas fa-water" aria-hidden="true"></i>
                                </div>
                                <span class="timeline-stop-label">Lago Pozzillo</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Controlli di navigazione -->
                <div class="timeline-controls" role="group" aria-label="Controlli di navigazione della timeline">
                    <button class="timeline-control prev" aria-label="Tappe precedenti">
                        <i class="fas fa-chevron-left" aria-hidden="true"></i>
                    </button>
                    
                    <button class="timeline-control next" aria-label="Tappe successive">
                        <i class="fas fa-chevron-right" aria-hidden="true"></i>
                    </button>
                </div>
                
                <!-- Pulsante migliorato per controllare l'animazione - spostato sopra gli indicatori -->
                <div class="animation-control-wrapper">
                    <button class="animation-control" aria-label="Interrompi animazione automatica">
                        <span class="control-icon"><i class="fas fa-pause" aria-hidden="true"></i></span>
                        <span class="control-text">Interrompi animazione</span>
                    </button>
                </div>
                
                <!-- Pallini indicatori per la timeline - spostati sotto il pulsante di controllo -->
                <div class="timeline-indicators" aria-hidden="true"></div>
            </div>
        </section>
        
        <main class="space-y-8">
            <!-- Piazza della Repubblica - Rimosso il contenuto hardcoded -->
            <article class="episode-card" id="piazza-repubblica" aria-labelledby="title-piazza-repubblica">
                <div class="episode-content">
                    <div class="episode-title-row">
                        <div class="episode-icon" aria-hidden="true">
                            <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                        </div>
                        <h2 id="title-piazza-repubblica" class="text-2xl md:text-3xl font-bold">Piazza della Repubblica</h2>
                    </div>
                    
                    <p class="text-gray-600 mb-5">Il cuore storico e sociale di Regalbuto, con la sua caratteristica pavimentazione.</p>
                    
                    <!-- Player AmplitudeJS per questo episodio -->
                    <div class="w-full max-w-3xl mx-auto mb-4 audio-player-card p-6">
                        <div class="amplitude-player episode-amplitude" id="episode-piazza">
                            <div class="amplitude-visualization-container">
                                <div class="amplitude-visualization" id="piazza-visualization"></div>
                                <button class="amplitude-play-pause" data-amplitude-playlist="episodi" data-amplitude-song-index="0" data-player-id="episode-piazza">
                                    <i class="fa fa-play amplitude-play" aria-hidden="true"></i>
                                    <i class="fa fa-pause amplitude-pause" aria-hidden="true"></i>
                                </button>
                            </div>
                            <div class="amplitude-track-info">
                                <div class="amplitude-track-title" data-amplitude-playlist="episodi" data-amplitude-song-info="name" data-amplitude-song-index="0">
                                    Piazza della Repubblica
                                </div>
                                <div class="amplitude-track-author" data-amplitude-playlist="episodi" data-amplitude-song-info="artist" data-amplitude-song-index="0">
                                    Audio guida di Regalbuto
                                </div>
                            </div>
                            <div class="amplitude-controls-container">
                                <div class="amplitude-time-container">
                                    <span class="amplitude-current-time" data-amplitude-playlist="episodi" data-amplitude-song-index="0">0:00</span>
                                    <div class="amplitude-time-progress">
                                        <input type="range" class="amplitude-song-slider" data-amplitude-playlist="episodi" data-amplitude-song-index="0"/>
                                        <progress class="amplitude-song-played-progress" data-amplitude-playlist="episodi" data-amplitude-song-index="0"></progress>
                                    </div>
                                    <span class="amplitude-duration-time" data-amplitude-playlist="episodi" data-amplitude-song-index="0">0:00</span>
                                </div>
                                <div class="amplitude-volume-container">
                                    <i class="fas fa-volume-up amplitude-volume-icon" aria-hidden="true"></i>
                                    <input type="range" class="amplitude-volume-slider"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tab espandibile per la trascrizione - contenuto caricato dinamicamente -->
                    <div>
                        <button class="toggle-transcript w-full flex justify-center p-2 rounded-lg transition-all" data-target="transcript-1" aria-expanded="false" aria-controls="transcript-1">
                            <span class="font-medium mr-2">Mostra trascrizione completa</span>
                            <i class="fas fa-chevron-down toggle-icon" aria-hidden="true"></i>
                        </button>
                        
                        <div id="transcript-1" class="transcript-container rounded-lg" aria-hidden="true" role="region" aria-label="Trascrizione audio Piazza della Repubblica">
                            <div class="space-y-4">
                                <!-- Il contenuto verrà caricato dinamicamente dal file JSON -->
                            </div>
                        </div>
                    </div>
                </div>
            </article>
            
            <!-- Palazzo Comunale - Rimosso il contenuto hardcoded -->
            <article class="episode-card" id="palazzo-comunale" aria-labelledby="title-palazzo-comunale">
                <div class="episode-content">
                    <div class="episode-title-row">
                        <div class="episode-icon" aria-hidden="true">
                            <i class="fas fa-landmark" aria-hidden="true"></i>
                        </div>
                        <h2 id="title-palazzo-comunale" class="text-2xl md:text-3xl font-bold">Palazzo Comunale</h2>
                    </div>
                    
                    <p class="text-gray-600 mb-5">La sede storica dell'amministrazione cittadina con la sua architettura caratteristica.</p>
                    
                    <!-- Player AmplitudeJS per questo episodio -->
                    <div class="w-full max-w-3xl mx-auto mb-4 audio-player-card p-6">
                        <div class="amplitude-player episode-amplitude" id="episode-palazzo">
                            <div class="amplitude-visualization-container">
                                <div class="amplitude-visualization" id="palazzo-visualization"></div>
                                <button class="amplitude-play-pause" data-amplitude-playlist="episodi" data-amplitude-song-index="1" data-player-id="episode-palazzo">
                                    <i class="fa fa-play amplitude-play" aria-hidden="true"></i>
                                    <i class="fa fa-pause amplitude-pause" aria-hidden="true"></i>
                                </button>
                            </div>
                            <div class="amplitude-track-info">
                                <div class="amplitude-track-title" data-amplitude-playlist="episodi" data-amplitude-song-info="name" data-amplitude-song-index="1">
                                    Palazzo Comunale
                                </div>
                                <div class="amplitude-track-author" data-amplitude-playlist="episodi" data-amplitude-song-info="artist" data-amplitude-song-index="1">
                                    Audio guida di Regalbuto
                                </div>
                            </div>
                            <div class="amplitude-controls-container">
                                <div class="amplitude-time-container">
                                    <span class="amplitude-current-time" data-amplitude-playlist="episodi" data-amplitude-song-index="1">0:00</span>
                                    <div class="amplitude-time-progress">
                                        <input type="range" class="amplitude-song-slider" data-amplitude-playlist="episodi" data-amplitude-song-index="1"/>
                                        <progress class="amplitude-song-played-progress" data-amplitude-playlist="episodi" data-amplitude-song-index="1"></progress>
                                    </div>
                                    <span class="amplitude-duration-time" data-amplitude-playlist="episodi" data-amplitude-song-index="1">0:00</span>
                                </div>
                                <div class="amplitude-volume-container">
                                    <i class="fas fa-volume-up amplitude-volume-icon" aria-hidden="true"></i>
                                    <input type="range" class="amplitude-volume-slider"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tab espandibile per la trascrizione - contenuto caricato dinamicamente -->
                    <div>
                        <button class="toggle-transcript w-full flex justify-center p-2 rounded-lg transition-all" data-target="transcript-2" aria-expanded="false" aria-controls="transcript-2">
                            <span class="font-medium mr-2">Mostra trascrizione completa</span>
                            <i class="fas fa-chevron-down toggle-icon" aria-hidden="true"></i>
                        </button>
                        
                        <div id="transcript-2" class="transcript-container rounded-lg" aria-hidden="true" role="region" aria-label="Trascrizione audio Palazzo Comunale">
                            <div class="space-y-4">
                                <!-- Il contenuto verrà caricato dinamicamente dal file JSON -->
                            </div>
                        </div>
                    </div>
                </div>
            </article>
            
            <!-- Chiesa Madre S. Basilio - Rimosso il contenuto hardcoded -->
            <article class="episode-card" id="chiesa-madre" aria-labelledby="title-chiesa-madre">
                <div class="episode-content">
                    <div class="episode-title-row">
                        <div class="episode-icon" aria-hidden="true">
                            <i class="fas fa-church" aria-hidden="true"></i>
                        </div>
                        <h2 id="title-chiesa-madre" class="text-2xl md:text-3xl font-bold">Chiesa Madre S. Basilio</h2>
                    </div>
                    
                    <p class="text-gray-600 mb-5">La chiesa principale di Regalbuto con la sua importante storia religiosa e artistica.</p>
                    
                    <!-- Player AmplitudeJS per questo episodio -->
                    <div class="w-full max-w-3xl mx-auto mb-4 audio-player-card p-6">
                        <div class="amplitude-player episode-amplitude" id="episode-chiesa">
                            <div class="amplitude-visualization-container">
                                <div class="amplitude-visualization" id="chiesa-visualization"></div>
                                <button class="amplitude-play-pause" data-amplitude-playlist="episodi" data-amplitude-song-index="2" data-player-id="episode-chiesa">
                                    <i class="fa fa-play amplitude-play" aria-hidden="true"></i>
                                    <i class="fa fa-pause amplitude-pause" aria-hidden="true"></i>
                                </button>
                            </div>
                            <div class="amplitude-track-info">
                                <div class="amplitude-track-title" data-amplitude-playlist="episodi" data-amplitude-song-info="name" data-amplitude-song-index="2">
                                    Chiesa Madre S. Basilio
                                </div>
                                <div class="amplitude-track-author" data-amplitude-playlist="episodi" data-amplitude-song-info="artist" data-amplitude-song-index="2">
                                    Audio guida di Regalbuto
                                </div>
                            </div>
                            <div class="amplitude-controls-container">
                                <div class="amplitude-time-container">
                                    <span class="amplitude-current-time" data-amplitude-playlist="episodi" data-amplitude-song-index="2">0:00</span>
                                    <div class="amplitude-time-progress">
                                        <input type="range" class="amplitude-song-slider" data-amplitude-playlist="episodi" data-amplitude-song-index="2"/>
                                        <progress class="amplitude-song-played-progress" data-amplitude-playlist="episodi" data-amplitude-song-index="2"></progress>
                                    </div>
                                    <span class="amplitude-duration-time" data-amplitude-playlist="episodi" data-amplitude-song-index="2">0:00</span>
                                </div>
                                <div class="amplitude-volume-container">
                                    <i class="fas fa-volume-up amplitude-volume-icon" aria-hidden="true"></i>
                                    <input type="range" class="amplitude-volume-slider"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tab espandibile per la trascrizione - contenuto caricato dinamicamente -->
                    <div>
                        <button class="toggle-transcript w-full flex justify-center p-2 rounded-lg transition-all" data-target="transcript-3" aria-expanded="false" aria-controls="transcript-3">
                            <span class="font-medium mr-2">Mostra trascrizione completa</span>
                            <i class="fas fa-chevron-down toggle-icon" aria-hidden="true"></i>
                        </button>
                        
                        <div id="transcript-3" class="transcript-container rounded-lg" aria-hidden="true" role="region" aria-label="Trascrizione audio Chiesa Madre S. Basilio">
                            <div class="space-y-4">
                                <!-- Il contenuto verrà caricato dinamicamente dal file JSON -->
                            </div>
                        </div>
                    </div>
                </div>
            </article>
            
            <!-- Placeholder per altri episodi -->
            <!-- Altri episodi possono essere aggiunti seguendo lo stesso schema -->
        </main>
        
        <footer class="rounded-lg" role="contentinfo">
            <p>2025 Audio guida di Regalbuto. Un progetto di <a href="#" class="footer-link">Regalbuto Inside</a>.</p>
        </footer>
    </div>

    <!-- AmplitudeJS Script -->
    <script src="https://cdn.jsdelivr.net/npm/amplitudejs@5.3.2/dist/amplitude.min.js"></script>
    
    <!-- Script per la visualizzazione delle onde audio -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/6.6.4/wavesurfer.min.js"></script>
    
    <!-- Carica prima amplitude-config.js come utility library -->
    <script src="assets/js/amplitude-config.js"></script>
    
    <!-- Poi carica il main.js che utilizzerà le utility -->
    <script src="assets/js/main.js"></script>
</body>
</html>